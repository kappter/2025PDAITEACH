<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Teacher Lesson Planning Time Survey</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: Arial, sans-serif; padding: 1em; background: #f5f5f5; }
    .container { max-width: 500px; margin: auto; background: white; padding: 1.5em; border-radius: 12px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
    .question { display: none; }
    .active { display: block; }
    .buttons { display: flex; flex-wrap: wrap; gap: 0.5em; margin-top: 1em; }
    .buttons button { flex: 1 1 45%; padding: 0.75em; border: none; border-radius: 8px; background: #007bff; color: white; font-size: 1em; cursor: pointer; }
    .buttons button:hover { background: #0056b3; }
    .slider { width: 100%; margin: 1em 0; }
    #results { margin-top: 2em; display: none; }
    canvas { margin-top: 1em; }
  </style>
</head>
<body>
  <div class="container">
    <h2>Teacher Time Survey</h2>
    <form id="surveyForm">
      <div class="question active" data-question="1">
        <p>How many hours per week do you spend framing lessons?</p>
        <div class="buttons">
          <button type="button" data-value="2">1–2</button>
          <button type="button" data-value="5">3–5</button>
          <button type="button" data-value="10">6–10</button>
          <button type="button" data-value="15">11–15</button>
          <button type="button" data-value="20">More than 15</button>
        </div>
      </div>

      <div class="question" data-question="2">
        <p>How many hours per week do you spend writing lesson content?</p>
        <div class="buttons">
          <button type="button" data-value="2">1–2</button>
          <button type="button" data-value="5">3–5</button>
          <button type="button" data-value="10">6–10</button>
          <button type="button" data-value="15">11–15</button>
          <button type="button" data-value="20">More than 15</button>
        </div>
      </div>

      <div class="question" data-question="3">
        <p>How many hours per week do you spend editing and refining lessons?</p>
        <div class="buttons">
          <button type="button" data-value="2">1–2</button>
          <button type="button" data-value="5">3–5</button>
          <button type="button" data-value="10">6–10</button>
          <button type="button" data-value="15">11–15</button>
          <button type="button" data-value="20">More than 15</button>
        </div>
      </div>

      <div class="question" data-question="4">
        <p>How confident are you in using AI/voice tools to save time? (%)</p>
        <input type="range" min="0" max="100" value="50" class="slider" id="confidence">
        <p><span id="confidenceValue">50</span>%</p>
        <button type="button" id="finishBtn">See Results</button>
      </div>
    </form>

    <div id="results">
      <h3>Your Weekly Time Summary</h3>
      <p id="summaryText"></p>
      <canvas id="timeChart"></canvas>
      <p id="insights"></p>
    </div>
  </div>

  <script>
    const questions = document.querySelectorAll('.question');
    let currentQuestion = 0;
    let responses = {};

    // button answers
    document.querySelectorAll('.buttons button').forEach(btn => {
      btn.addEventListener('click', () => {
        const parent = btn.closest('.question');
        const qNum = parent.dataset.question;
        responses[qNum] = parseInt(btn.dataset.value);
        parent.classList.remove('active');
        currentQuestion++;
        if (questions[currentQuestion]) {
          questions[currentQuestion].classList.add('active');
        }
      });
    });

    // slider
    const slider = document.getElementById('confidence');
    const confidenceValue = document.getElementById('confidenceValue');
    slider.addEventListener('input', () => confidenceValue.textContent = slider.value);

    // finish button
    document.getElementById('finishBtn').addEventListener('click', () => {
      responses[4] = parseInt(slider.value);
      document.getElementById('surveyForm').style.display = 'none';
      showResults();
    });

    function showResults() {
      const totalBefore = (responses[1] || 0) + (responses[2] || 0) + (responses[3] || 0);
      const savings = Math.round(totalBefore * (responses[4] / 100) * 0.5); // estimate AI saves up to 50% of confident tasks
      const totalAfter = totalBefore - savings;

      document.getElementById('results').style.display = 'block';
      document.getElementById('summaryText').textContent = `You estimated ${totalBefore} hrs/week. With AI and voice tools, you might save about ${savings} hrs, reducing to ~${totalAfter} hrs.`;

      const ctx = document.getElementById('timeChart').getContext('2d');
      new Chart(ctx, {
        type: 'bar',
        data: {
          labels: ['Before AI/Voice', 'After AI/Voice'],
          datasets: [{
            label: 'Estimated Hours per Week',
            data: [totalBefore, totalAfter],
            backgroundColor: ['#dc3545', '#28a745']
          }]
        },
        options: { responsive: true, scales: { y: { beginAtZero: true } } }
      });

      document.getElementById('insights').textContent = `Confidence level: ${responses[4]}%. The more you practice feeding drafts and recordings into AI, the more time you’ll save.`;
    }
  </script>
</body>
</html>
